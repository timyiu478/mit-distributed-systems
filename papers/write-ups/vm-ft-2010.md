---
title: The Design of Practical System for Fault-Tolerance Virtual Machine
description:
tags: ["Fault-Tolerance", "Backup"]
reference: https://pdos.csail.mit.edu/6.824/papers/vm-ft.pdf
---

## Key Contributions

* Bressoud and Schneider [3] describe a prototype implementation of fault-tolerant VMs for the HP PA-RISC platform. 
* They have made some fundamental changes for **performance reasons** and investigated a number of **design alternatives**. 
* In addition, we have had to design and implement many additional components in the system and deal with a number of **practical issues** to build a complete system that is efficient and usable by customers running enterprise applications.

## Basic Fault-Tolerance Design

![](assets/basic_ft_design.png)




## Questions


1) What is the failure mode the system target to deal with?

* Fail-Stop: failure be detected before the failing server causes an incorrect externally visible action


2) How does VM FT handle network partitions? That is, is it possible that if the primary and the backup end up in different network partitions that the backup will become a primary too and the system will run with two primaries?


3) what I find most confusing about the paper?

4) What are the ways of replicating states to backup machine?

* replicate all states (CPU, Memory, I/O devices)
    * cons: need high bandwidth for transfering states from primary to backup
* Sate Machine Approach
    * keep them in sync by letting them receiving the same inputs with same order
    * pros: need less bandwidth, ideal for deterministic state transition and the information for state transition is less than the information for memory update
    * cons: need a way to handle non-deterministic operations (e.g. reading a time of the clock)

5) Why is SMR approach suitable for VM?

* VM can be considered as a state machine where all its operation are being virtualized => The hypervisor can capture all non-deterministic operations from the primary and replay them correctly to the backup.
* better physical seperation => primary and backup can run on different physical machine


